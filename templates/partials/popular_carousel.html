{% load static %}

<!-- ðŸ›ï¸ Popular Carousel Products -->
<section class="popular-carousel-section py-5 bg-subscribe" aria-labelledby="popular-carousel-heading">
  <div class="container pb-5 text-center">
    <h2 class="section-title text-white mb-3 mt-4">
      <i class="fas fa-fire text-danger"></i> Popular Picks
    </h2>
    <p class="section-subtitle lead text-white">Our best-selling wellness essentials, handpicked for your lifestyle</p>

    <div class="carousel" mask>
      {% for product in popular_products %}
        <article role="group" aria-labelledby="product-{{ forloop.counter }}-title">
          {% if product.image %}
            <img src="{{ product.image.url }}" alt="{{ product.name }}">
          {% else %}
            <img src="{% static 'images/placeholder.png' %}" alt="No image available">
          {% endif %}
          <h3 id="product-{{ forloop.counter }}-title">{{ product.name }}</h3>
          <div>
            <p class="text-muted small">{{ product.description|truncatechars:120 }}</p>
            <a href="{% url 'product_detail' product.id %}" class="btn btn-outline-primary btn-sm mt-auto">View Product</a>
          </div>
        </article>
      {% endfor %}
    </div>
  </div>
</section>
