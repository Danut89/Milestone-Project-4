{% extends "base.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<h1>👋 Welcome, {{ user.username }}!</h1>
<p>This is your FitZone Pro dashboard.</p>

<div class="row row-cols-1 row-cols-md-2 g-4 mt-4">

  <!-- 🥗 Nutrition Plans -->
  <div class="col">
    <div class="card shadow-sm h-100">
      <div class="card-body">
        <h5 class="card-title">🥗 Nutrition Plans</h5>
        <p class="card-text">Access your personalized meal plans and dietary tips.</p>
        <a href="{% url 'nutrition:meal_plans' %}" class="btn btn-primary">Go to Nutrition</a>
      </div>
    </div>
  </div>

  <!-- 🛒 Store -->
  <div class="col">
    <div class="card shadow-sm h-100">
      <div class="card-body">
        <h5 class="card-title">🛒 Store</h5>
        <p class="card-text">Browse and manage equipment and supplements.</p>
        <a href="{% url 'all_products' %}" class="btn btn-primary">Go to Store</a>
      </div>
    </div>
  </div>

  <!-- 🧑‍💼 Account Summary -->
  <div class="col">
    <div class="card shadow-sm h-100">
      <div class="card-body">
        <h5 class="card-title">🧑‍💼 Account Summary</h5>
        <ul class="list-unstyled">
          <li><strong>Username:</strong> {{ user.username }}</li>
          <li><strong>Email:</strong> {{ user.email }}</li>
          <li><strong>Joined:</strong> {{ user.date_joined|date:"M d, Y" }}</li>
        </ul>
        <a href="{% url 'settings' %}" class="btn btn-outline-primary">Manage Account</a>
      </div>
    </div>
  </div>

  <!-- 📝 Recent Activity -->
  <div class="col">
    <div class="card shadow-sm h-100">
      <div class="card-body">
        <h5 class="card-title">📝 Recent Activity</h5>
        <p class="card-text">You recently edited 2 products and added 1 recipe.</p>
        <a href="#" class="btn btn-outline-secondary disabled">View Details</a>
      </div>
    </div>
  </div>

 <section class="my-5">
  <h3 class="mb-3">📚 Your Saved Recipes</h3>
  {% if saved_recipes %}
    <div class="row g-4">
      {% for entry in saved_recipes %}
        <div class="col-md-4">
          <div class="card h-100 shadow-sm">
            {% if entry.recipe.image %}
              <img src="{{ entry.recipe.image.url }}" class="card-img-top" alt="{{ entry.recipe.title }}">
            {% endif %}
            <div class="card-body">
              <h5 class="card-title">{{ entry.recipe.title }}</h5>
              <a href="{% url 'nutrition:recipe_detail' pk=entry.recipe.id %}" class="btn btn-primary btn-sm">View Recipe</a>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p>You haven’t saved any recipes yet. Start exploring!</p>
  {% endif %}
</section>


  <!-- 🧭 Quick Actions -->
  <div class="col">
    <div class="card shadow-sm h-100">
      <div class="card-body">
        <h5 class="card-title">⚡ Quick Actions</h5>
        <div class="d-grid gap-2">
          <a href="{% url 'all_products' %}" class="btn btn-sm btn-outline-primary">🛍️ View All Products</a>
          <a href="{% url 'nutrition:meal_plans' %}" class="btn btn-sm btn-outline-primary">🍎 View Meal Plans</a>
          <a href="{% url 'settings' %}" class="btn btn-sm btn-outline-secondary">⚙️ Settings</a>
        </div>
      </div>
    </div>
  </div>

</div>
{% endblock %}
